---
title: Next.js - App Router
description: Next.js 15, React 19, Tailwind CSS v4 환경에서 Vapor UI 완전 설정 가이드
---

## Vapor UI & Next.js 프로젝트 설정 가이드

<Steps>
<Step>

### 1단계: 프로젝트 생성 및 의존성 설치

먼저, Next.js 프로젝트를 생성하고 필요한 라이브러리를 설치합니다.

```bash
# 1. Next.js 15+ 프로젝트 생성 (TypeScript 사용)
npx create-next-app@latest my-vapor-app --typescript --tailwind --eslint

# 2. 프로젝트 폴더로 이동
cd my-vapor-app
```

```package-install
npm install @vapor-ui/core @vapor-ui/icons
```

</Step>

<Step>

### 2단계: PostCSS 설정

Tailwind CSS v4를 지원하도록 `postcss.config.mjs` 파일을 설정합니다.

```javascript title="postcss.config.mjs"
const config = {
    plugins: ['@tailwindcss/postcss'],
};

export default config;
```

</Step>

<Step>

### 3단계: Next.js 설정

Vapor UI 라이브러리의 번들 크기를 최적화하기 위해 `next.config.ts` 파일에 `optimizePackageImports` 설정을 추가합니다.

```typescript title="next.config.ts"
import type { NextConfig } from 'next';

const nextConfig: NextConfig = {
    // Vapor UI 번들 최적화 설정
    experimental: {
        optimizePackageImports: ['@vapor-ui/core', '@vapor-ui/icons'],
    },
};

export default nextConfig;
```

</Step>

<Step>

### 4단계: 글로벌 CSS 설정

**가장 중요한 단계 중 하나**입니다. Tailwind의 유틸리티 클래스가 Vapor UI 컴포넌트 스타일을 덮어쓸 수 있도록 CSS 레이어(layer) 순서를 정의해야 합니다.

```css title="src/app/globals.css"
/* Vapor UI와 Tailwind CSS의 스타일 우선순위를 정의하는 레이어 */
@layer reset, tw-base, base, tw-theme, theme, components, utilities, tw-utilities;

@import '@vapor-ui/core/styles.css';

@import 'tailwindcss/preflight' layer(tw-base);
@import 'tailwindcss/theme' layer(tw-theme);
@import 'tailwindcss/utilities' layer(tw-utilities);

/* 기타 전역 스타일 */
```

</Step>

<Step>

### 5단계: 테마 설정

중앙에서 테마를 관리하기 위해 설정 파일을 만듭니다.

```typescript title="lib/theme.config.ts"
import { createThemeConfig } from '@vapor-ui/core';

export const theme = createThemeConfig({
    appearance: 'light',
    primaryColor: '#0066ff',
    scaling: 1,
    radius: 'md',
});
```

</Step>

<Step>

### 6단계: 루트 레이아웃 설정

`ThemeProvider`로 앱 전체를 감싸고, `ThemeScript`를 `<head>`에 추가하여 FOUC(깜빡임)을 방지합니다.

```tsx title="src/app/layout.tsx"
import type { Metadata } from 'next';
import { Inter } from 'next/font/google';

import './globals.css';

import { ThemeProvider, ThemeScript } from '@vapor-ui/core';

import { theme } from '~/lib/theme.config';

const inter = Inter({ subsets: ['latin'] });

export const metadata: Metadata = {
    title: 'Vapor UI with Next.js',
    description: 'A playground for Vapor UI components.',
};

export default function RootLayout({
    children,
}: Readonly<{
    children: React.ReactNode;
}>) {
    return (
        <html lang="en" suppressHydrationWarning>
            <head>
                {/* FOUC(깜빡임) 방지를 위한 스크립트 */}
                <ThemeScript />
            </head>
            <body className={inter.className}>
                {/* 앱 전체에 테마 적용 */}
                <ThemeProvider config={theme}>{children}</ThemeProvider>
            </body>
        </html>
    );
}
```

</Step>

<Step>

### 7단계: 컴포넌트 사용 예시

이제 페이지에서 Vapor UI 컴포넌트와 테마 전환 기능을 사용할 수 있습니다.

```tsx title="src/app/page.tsx"
'use client';

// 클라이언트 컴포넌트로 선언
import { Button, Card, CardBody, Text, useTheme } from '@vapor-ui/core';
import { DarkIcon, LightIcon } from '@vapor-ui/icons';

export default function HomePage() {
    const { appearance, setTheme } = useTheme();

    return (
        <main className="flex min-h-screen flex-col items-center justify-center p-24">
            <Card.Root className="max-w-md">
                <CardBody>
                    <div className="flex flex-col gap-4">
                        <Text asChild typography="heading1" foreground="normal">
                            <h1>Welcome to Vapor UI!</h1>
                        </Text>
                        <Text>
                            This is an example of how to use Vapor UI components with Next.js.
                        </Text>

                        {/* 버튼 컴포넌트 (다양한 variant) */}
                        <div className="flex items-center gap-2">
                            <Button color="primary">Primary</Button>
                            <Button variant="ghost">Ghost</Button>
                        </div>

                        {/* 테마 전환 버튼 */}
                        <Button
                            aria-label="Toggle theme"
                            onClick={() => {
                                setTheme({
                                    appearance: appearance === 'dark' ? 'light' : 'dark',
                                });
                            }}
                            color="primary"
                        >
                            {appearance === 'dark' ? <LightIcon /> : <DarkIcon />}
                        </Button>
                    </div>
                </CardBody>
            </Card.Root>
        </main>
    );
}
```

</Step>
</Steps>

## Demo

위의 설정을 완료하면 다음과 같은 Card 컴포넌트를 사용할 수 있습니다:

<Demo name="next-app-router-card">
```tsx
import { Button, Card, CardBody, Text } from '@vapor-ui/core';

export default function CardExample() {
    return (
        <Card.Root className="max-w-md">
            <CardBody>
                <div className="flex flex-col gap-4">
                    <Text asChild typography="heading1" foreground="normal">
                        <h1>Welcome to Vapor UI!</h1>
                    </Text>
                    <Text>
                        이것은 Next.js App Router와 함께 Vapor UI 컴포넌트를 사용하는 예시입니다.
                    </Text>
                </div>
            </CardBody>
            <Card.Footer>
                <Button color="primary">Primary</Button>
                <Button variant="ghost">Ghost</Button>
            </Card.Footer>
        </Card.Root>
    );
}
```
</Demo>

## 주요 포인트

- **CSS 레이어 순서**: Tailwind와 Vapor UI 스타일의 올바른 우선순위를 위해 `@layer` 설정이 필수입니다.
- **번들 최적화**: `optimizePackageImports` 설정으로 필요한 컴포넌트만 번들에 포함됩니다.
- **FOUC 방지**: `ThemeScript`와 `suppressHydrationWarning`으로 테마 전환 시 깜빡임을 방지합니다.
- **타입 안전성**: TypeScript 설정으로 완전한 타입 지원을 받을 수 있습니다.
