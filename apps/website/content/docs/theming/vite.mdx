---
title: Viteì—ì„œ ì‚¬ìš©í•˜ê¸°
---

## ê°œìš”

ViteëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§(CSR)ì„ ê¸°ë³¸ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì—, ë™ì  í…Œë§ˆë¥¼ ì ìš©í•  ë•Œ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR) í™˜ê²½ê³¼ëŠ” ë‹¤ë¥¸ ì ‘ê·¼ ë°©ì‹ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ ë¬¸ì„œì—ì„œëŠ” Vite í™˜ê²½ì—ì„œ `@vapor-ui/core`ë¥¼ ì„¤ì •í•˜ê³ , ê°€ì¥ ì¤‘ìš”í•œ **í™”ë©´ ê¹œë¹¡ì„(FOUC) í˜„ìƒ**ì„ ë°©ì§€í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

## ì™œ ê¹œë¹¡ì„(FOUC)ì´ ë°œìƒí• ê¹Œìš”?

Vite ê°œë°œ ì„œë²„ëŠ” ìµœì†Œí•œì˜ `index.html` íŒŒì¼ì„ ë¸Œë¼ìš°ì €ì— ë¨¼ì € ë³´ëƒ…ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ëŠ” ì´ HTMLê³¼ ê¸°ë³¸ CSSë¥¼ ë°”íƒ•ìœ¼ë¡œ ì²« í™”ë©´(ì£¼ë¡œ ë¼ì´íŠ¸ ëª¨ë“œ)ì„ ê·¸ë¦½ë‹ˆë‹¤. ê·¸ í›„ React ì•±ì˜ JavaScriptê°€ ë¡œë“œë˜ê³  ì‹¤í–‰ë˜ë©´ì„œ `ThemeProvider`ê°€ ì‚¬ìš©ìì˜ ì €ì¥ëœ í…Œë§ˆ(ì˜ˆ: ë‹¤í¬ ëª¨ë“œ)ë¥¼ í™•ì¸í•˜ê³  DOMì— ì ìš©í•©ë‹ˆë‹¤.

ì´ ì‹œì°¨ ë•Œë¬¸ì— "ë¼ì´íŠ¸ ëª¨ë“œë¡œ ê·¸ë ¤ì¡Œë‹¤ê°€ â†’ ë‹¤í¬ ëª¨ë“œë¡œ ë°”ë€ŒëŠ”" í˜„ìƒì´ ë°œìƒí•˜ë©°, ì´ê²ƒì´ ì‚¬ìš©ìì—ê²ŒëŠ” 'ê¹œë¹¡ì„'ìœ¼ë¡œ ë³´ì´ê²Œ ë©ë‹ˆë‹¤.

## ì„¤ì • ë°©ë²•

`@vapor-ui/core`ëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. **Vite í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê°€ì¥ ê¶Œì¥í•©ë‹ˆë‹¤.**

### [ê¶Œì¥] 1. Vite í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ìë™ ì„¤ì •í•˜ê¸°

ê°€ì¥ ì‰½ê³  ì•ˆì •ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤. `@vapor-ui/vite-plugin`ì€ FOUC ë°©ì§€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ `index.html`ì— ìë™ìœ¼ë¡œ ì£¼ì…í•´ ì¤ë‹ˆë‹¤.

#### 1ë‹¨ê³„: íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
npm install @vapor-ui/core @vapor-ui/vite-plugin
```

#### 2ë‹¨ê³„: í…Œë§ˆ ì„¤ì • íŒŒì¼ ìƒì„±

í”„ë¡œì íŠ¸ ì–´ë””ë“  `theme.config.ts`ì™€ ê°™ì€ ì„¤ì • íŒŒì¼ì„ ë§Œë“¤ì–´ í…Œë§ˆì˜ ê¸°ë³¸ê°’ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

```ts
// src/lib/theme.config.ts
import { createThemeConfig } from '@vapor-ui/core';

export const themeConfig = createThemeConfig({
    appearance: 'dark', // 'light', 'dark', or 'system'
    radius: 'md',
    storageKey: 'my-vite-app-theme',
});
```

#### 3ë‹¨ê³„: `vite.config.ts`ì— í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€

`themeInjectorPlugin`ì„ `vite.config.ts`ì— ì¶”ê°€í•˜ê³ , ë°©ê¸ˆ ìƒì„±í•œ `themeConfig`ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

```ts
// vite.config.ts
import { themeInjectorPlugin } from '@vapor-ui/vite-plugin';
import react from '@vitejs/plugin-react';
import { defineConfig } from 'vite';

import { themeConfig } from './src/lib/theme.config';

// ì„¤ì • íŒŒì¼ ê²½ë¡œ

export default defineConfig({
    plugins: [
        react(),
        // FOUC ë°©ì§€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì£¼ì…í•©ë‹ˆë‹¤.
        themeInjectorPlugin({ config: themeConfig }),
    ],
});
```

#### 4ë‹¨ê³„: `ThemeProvider` ì„¤ì •

ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì§„ì…ì (`main.tsx`)ì—ì„œ `ThemeProvider`ë¡œ ì•±ì„ ê°ì‹¸ê³ , ìŠ¤íƒ€ì¼ ì‹œíŠ¸ë¥¼ ì„í¬íŠ¸í•©ë‹ˆë‹¤.

```tsx
// src/main.tsx
import React from 'react';
import ReactDOM from 'react-dom/client';

import { ThemeProvider } from '@vapor-ui/core';

import App from './App.tsx';
import { themeConfig } from './lib/theme.config';

// í•„ìˆ˜: ìŠ¤íƒ€ì¼ ì‹œíŠ¸ë¥¼ ì„í¬íŠ¸í•©ë‹ˆë‹¤.
import '@vapor-ui/core/dist/styles.css';

ReactDOM.createRoot(document.getElementById('root')!).render(
    <React.StrictMode>
        <ThemeProvider config={themeConfig}>
            <App />
        </ThemeProvider>
    </React.StrictMode>,
);
```

ì´ì œ Vite í”„ë¡œì íŠ¸ì—ì„œ ê¹œë¹¡ì„ ì—†ì´ ë™ì  í…Œë§ˆë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

### 2. ìˆ˜ë™ìœ¼ë¡œ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€í•˜ê¸°

í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´, FOUC ë°©ì§€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ `index.html` íŒŒì¼ì˜ `<head>` íƒœê·¸ ì•ˆì— ì§ì ‘ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> **ì£¼ì˜ì‚¬í•­**
>
> ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—…ë°ì´íŠ¸ ì‹œ í•¨ê»˜ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ê¸‰ì  Vite í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.

```html
<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/vite.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Vite App</title>

        <!-- ğŸ’¡ @vapor-ui/core FOUC ë°©ì§€ ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘ -->
        <script>
            (function () {
                const config = {
                    storageKey: 'my-vite-app-theme', // ThemeProviderì™€ ë™ì¼í•œ storageKey ì‚¬ìš©
                    defaultTheme: { colorTheme: 'light', radius: 'md' }, // ê¸°ë³¸ê°’
                };

                let theme;
                try {
                    theme = localStorage.getItem(config.storageKey);
                    if (theme) {
                        theme = JSON.parse(theme);
                    }
                } catch (e) {
                    console.warn(e);
                }

                const osTheme = window.matchMedia('(prefers-color-scheme: dark)').matches
                    ? 'dark'
                    : 'light';

                const colorTheme = theme?.colorTheme || config.defaultTheme.colorTheme;
                const resolvedColorTheme = colorTheme === 'system' ? osTheme : colorTheme;

                const radius = theme?.radius || config.defaultTheme.radius;

                const doc = document.documentElement;
                doc.classList.add(`vapor-${resolvedColorTheme}-theme`);
                doc.classList.add(`vapor-radius-${radius}`);
            })();
        </script>
        <!-- ìŠ¤í¬ë¦½íŠ¸ ë -->
    </head>
    <body>
        <div id="root"></div>
        <script type="module" src="/src/main.tsx"></script>
    </body>
</html>
```

## ì»´í¬ë„ŒíŠ¸ì—ì„œ í…Œë§ˆ ì‚¬ìš©í•˜ê¸°

ì„¤ì •ì´ ì™„ë£Œë˜ë©´ `useTheme` í›…ì„ ì‚¬ìš©í•˜ì—¬ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì—ì„œë“  í˜„ì¬ í…Œë§ˆ ê°’ì„ ì½ê±°ë‚˜ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
// src/components/ThemeToggleButton.tsx
import { useTheme } from '@vapor-ui/core';

export function ThemeToggleButton() {
    const { colorTheme, setTheme } = useTheme();

    const toggleTheme = () => {
        setTheme({
            colorTheme: colorTheme === 'light' ? 'dark' : 'light',
        });
    };

    return <button onClick={toggleTheme}>í˜„ì¬ í…Œë§ˆ: {colorTheme}</button>;
}
```
