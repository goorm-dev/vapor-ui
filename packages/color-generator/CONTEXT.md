# Vapor 디자인 시스템 컬러 시스템 개선

## TL;DR

---

디자인 시스템의 컬러 팔레트는 단순한 색상 모음이 아닙니다. 이는 브랜드 정체성을 전달하고, 사용자 경험의 일관성을 보장하며, 다양한 접근성 요구사항을 충족시키는 핵심 인프라입니다. 특히 현대 프로덕트에서 요구되는 멀티테마 지원과 다크 모드 대응은 컬러 시스템의 과학적 설계 없이는 불가능합니다.

본 문서에서는 Vapor 디자인 시스템의 현재 컬러 시스템이 안고 있는 구조적 문제들을 정량적으로 분석하고, 인지적 균일성(Perceptual Uniformity) 원칙과 확장된 토큰 계층 구조를 통해 이를 근본적으로 해결하는 종합적 방안을 제시합니다.

## **문제 정의: 시스템적 한계의 정량적 분석**

---

### 인지적 균일성이란 무엇인가

인지적 균일성은 동일한 단계의 색상이 색조(Hue)와 관계없이 사용자에게 동일한 시각적 중요도와 밝기로 인지되어야 한다는 원칙입니다. 이는 직관적으로 이해할 수 있는 개념입니다. 만약 Primary Button이 테마에 따라 때로는 매우 밝고 때로는 상대적으로 어둡게 보인다면, 사용자는 동일한 기능임에도 불구하고 서로 다른 중요도로 인지하게 됩니다.

전통적인 HSL 색상 모델의 한계는 바로 여기에 있습니다. HSL의 L(Lightness) 값은 `(RGB 최댓값 + 최솟값) / 2`라는 단순한 수학적 계산에 불과하여, 인간의 실제 시각 인지와는 큰 차이를 보입니다. 예를 들어 `hsl(60, 100%, 50%)`의 🟡(노란색)과 `hsl(240, 100%, 50%)`의 🔵(파란색)은 L값이 50으로 동일하지만, 실제로는 노란색이 훨씬 밝게 인지됩니다.

이를 해결하기 위해 등장한 OKLCH 색상 모델은 인간의 색상 인지 연구를 기반으로 설계되어, L(Lightness) 값이 실제 인지되는 밝기와 거의 일치합니다.

- **L (Lightness)**: `0%`(인지적 검정)부터 `100%`(인지적 흰색)까지, **사람 눈에 보이는 밝기를 거의 그대로** 나타냅니다.
- **C (Chroma)**: 색의 강도, 즉 **'채도'**를 나타냅니다. `0`은 무채색이며, 값이 높을수록 색이 선명해집니다.
- **H (Hue)**: 색상환의 각도로, **'색상'** 자체를 나타냅니다.

OKLCH의 핵심은 **서로 다른 색상(H)이라도 L값이 같다면, 우리 눈에 보이는 밝기가 거의 동일하다**는 점입니다. 이것이 바로 예측 가능하고 테마 교체가 가능한 시스템을 만드는 기술적 기반입니다.

### 업계 표준 대비 Vapor의 심각한 편차

주요 디자인 시스템들과 Vapor의 인지적 일관성을 정량적으로 분석한 결과, 문제의 심각성이 명확히 드러났습니다.

| 디자인 시스템 | Blue-500 L값 | Yellow-500 L값 | 명도 차이 | 편차율 |
| --- | --- | --- | --- | --- |
| Adobe Spectrum | 0.772 | 0.776 | 0.004 | **0.5%** |
| GitHub Primer | 0.648 | 0.654 | 0.006 | **0.9%** |
| **Vapor (현재)** | **0.577** | **0.827** | **0.250** | **43.3%** |

Adobe Spectrum과 GitHub Primer가 1% 미만의 편차를 보이는 반면, Vapor는 43.3%라는 극심한 편차를 보입니다. 이는 단순히 두 색상만의 문제가 아닙니다.

### 전체 Primitive Color의 통계적 분석

Vapor의 모든 주요 색상을 OKLCH로 분석한 결과는 문제의 심각성을 더욱 명확히 보여줍니다.

**Light Mode 500단계 전체 분석**:

| 색상 | L값 | Blue 기준 편차 | 편차율 |
| --- | --- | --- | --- |
| Green | 0.555 | 0.022 | 3.8% |
| Cyan | 0.561 | 0.017 | 2.9% |
| **Blue** | **0.577** | **0.000** | **0.0%** |
| Orange | 0.588 | 0.010 | 1.8% |
| Red | 0.593 | 0.016 | 2.8% |
| Pink | 0.594 | 0.017 | 2.9% |
| Violet | 0.593 | 0.016 | 2.7% |
| Grape | 0.602 | 0.025 | 4.3% |
| **Lime** | **0.792** | **0.215** | **37.2%** |
| **Yellow** | **0.827** | **0.250** | **43.3%** |

**통계 분석 결과**:

- 표준편차: 0.092 (매우 높음)
- 변동계수: 14.7% (업계 표준 1% 미만 대비 극도로 높음)
- 범위/평균: 43.3% (최대값과 최소값의 차이가 평균의 43%에 달함)

**Dark Mode 비교 분석**:

- 표준편차: 0.054 (Light Mode보다 개선되었으나 여전히 높음)
- 변동계수: 7.4%
- 범위/평균: 27.3%
- 최대 편차: Yellow(0.858) vs Violet(0.657) = 30.5% 차이

## 핵심 문제점 심층 분석

---

### 문제 1: 테마 교체 시 컴포넌트 중요도 변화

![Frame 35.png](attachment:9d8e1f34-4410-4a42-a9b5-4e0c160fa8a4:Frame_35.png)

현재 Vapor에서 Primary Color를 Blue에서 Yellow로 변경하면, 동일한 500단계 컴포넌트임에도 불구하고 사용자에게는 완전히 다른 시각적 중요도로 인지됩니다. 이는 디자인 시스템의 가장 기본적인 원칙인 "일관성"을 근본적으로 해칩니다.

구체적으로 Blue 테마의 Primary Button과 Yellow 테마의 Primary Button을 동일한 페이지에 놓으면, Yellow 버튼이 43% 더 밝게 보여 사용자는 Yellow 버튼을 더 중요한 기능으로 오인할 수 있습니다. 이는 정보 위계(Information Hierarchy)의 혼란을 야기하며, 특히 멀티 브랜드 서비스나 화이트 라벨 솔루션에서 심각한 사용성 문제를 초래합니다.

### 문제 2: 상호작용 피드백의 극심한 불일치

현재 Vapor에서는 상호작용 상태를 Interaction Layer를 사용해, CSS의 `::after` 가상 요소를 사용해 8%(hover) 또는 16%(pressed)의 반투명한 검정색을 덧씌우는 방식으로 구현되어 있습니다. 예를 들어 파란색 버튼 위에 마우스를 올리면, 그 위에 8% 투명도의 검정색 레이어가 겹쳐져서 전체적으로 조금 더 어두운 파란색으로 보이게 됩니다.

<aside>
💡

**Interaction Layer란?**

Interaction Layer는 Vapor 디자인시스템에서 사용자의 상호작용 상태(hover, pressed, focus 등)를 시각적으로 표현하는 핵심 기법입니다. 버튼이나 카드 위에 마우스를 올렸을 때 색상이 약간 어두워지거나 밝아지는 효과를 구현하기 위함입니다. 이는 기존 컴포넌트 위에 반투명한 색상 레이어를 얹어서 구현됩니다.

</aside>

**문제의 핵심**

하지만 기본 상태의 명도가 불일치하기 때문에 동일한 8% 오버레이가 완전히 다른 시각적 효과를 만들어냅니다.

**Light Mode 분석**:

- Blue-500 명도 변화: 0.046
- Yellow-500 명도 변화: 0.066
- **Yellow이 Blue 대비 1.4배 더 강한 피드백 제공**

**Dark Mode 분석**:

- Blue-500 명도 변화: 0.056
- Yellow-500 명도 변화: 0.069
- **Yellow이 Blue 대비 1.2배 더 강한 피드백 제공**

![Group 4 (1).png](attachment:61ed595f-e8ac-4a6f-ac6a-4aada4a09717:Group_4_(1).png)

이는 사용자 경험의 일관성을 크게 해칩니다. Blue 테마에서는 미묘하고 세련된 피드백을 경험하던 사용자가, Yellow 테마에서는 갑작스럽고 과도한 피드백을 경험하게 됩니다. 이러한 불일치는 특히 접근성 요구사항이 있는 사용자들에게 혼란을 야기할 수 있습니다.

### 문제 3: Dark Mode 대응의 구조적 한계

현재 Vapor는 Primitive Token과 Semantic Token의 2단계 구조를 사용합니다. 이 구조에서 Callout이나 Badge 같은 컴포넌트의 배경색은 근본적인 딜레마에 빠집니다.

![스크린샷 2025-08-17 17.08.22.png](attachment:ee145107-1d99-49fc-9889-dec13011ed92:스크린샷_2025-08-17_17.08.22.png)

**Light Mode 요구사항**: 매우 밝고 채도가 낮은 배경색이 필요합니다. 예를 들어 파란색 계열의 Callout은 `blue-100` 같은 매우 밝은 색상을 배경으로 사용해야 내용에 집중하면서도 테마의 정체성을 은은하게 암시할 수 있습니다.

**Dark Mode의 문제**: 하지만 `blue-100`은 Dark Mode에서는 어두운 색이 되어, 의도한 "은은한 밝은 배경" 효과를 전혀 구현할 수 없습니다. 사용자는 Dark Mode에서 Callout을 거의 인식하지 못하거나, 오히려 텍스트보다 어두운 배경으로 인해 가독성이 크게 떨어지는 경험을 하게 됩니다.

**편법적 해결책의 부작용**: 이를 해결하기 위해 현재는 `blue-500`에 8% 투명도를 적용하는 편법을 사용하고 있습니다.

```css
/* 현재 사용 중인 문제적 접근법 */
.callout-background {
  background-color: rgba(var(--vapor-color-blue-500-rgb), 0.08)
}
```

이 방식은 다음과 같은 심각한 문제를 야기합니다.

![Group 5 (1) (1).png](attachment:a0ac7176-8d86-4e32-91d5-94ebaf459fb7:Group_5_(1)_(1).png)

1. 최종 색상이 하위 배경에 따라 달라져 예측 불가능합니다.
2. 전경색과의 명암비를 사전에 보장할 수 없어 접근성 위험이 있습니다.
3. 팔레트가 제공하는 안전한 색상 조합을 벗어나 시스템 규칙을 우회합니다.

### 문제 4: 시스템적 접근성 보장 불가

앞서 언급된 모든 문제들로 인해, Vapor는 시스템 레벨에서 접근성을 보장할 수 없는 상황에 놓여 있습니다. 인지적 비일관성과 투명도 남용으로 인해 "L값 60% 이상에서는 gray-900 텍스트 사용" 같은 신뢰할 수 있는 접근성 규칙을 만들 수 없습니다.

결과적으로 모든 UI 조합을 수동으로 WCAG 기준에 따라 검증해야 하는 비효율적 상황이 발생하며, 이는 개발 속도를 저하시키고 접근성 버그의 위험을 높입니다.

## 해결책1: OKLCH 팔레트와 3단계 토큰 시스템으로 근본 문제 해결

---

### 1. 핵심 목표와 설계 원칙

우리의 해결책은 세 가지 층위에서 동시에 작동합니다. 첫 번째는 과학적 컬러 팔레트 생성을 통한 인지적 균일성 확보입니다. 두 번째는 확장된 토큰 계층 구조를 통한 Dark Mode 대응입니다. 세 번째는 자동화된 접근성 보장 시스템입니다.

**핵심 원칙**:

- OKLCH 색상 모델 기반의 과학적 팔레트 생성
- Component Specific Token 도입을 통한 Dark Mode 네이티브 지원
- 시스템 레벨에서의 자동화된 접근성 보장
- 투명도 의존성 완전 제거

### 2. 인지적으로 균일한 명도 척도의 과학적 설계

**Perceptually Uniform Lightness Scale 구축 프로세스**

우리의 접근법은 색채학의 표준 원칙을 따라 단계적이고 체계적으로 진행됩니다. 먼저 하나의 색상(Blue)을 Stevens의 멱법칙에 따라 완벽한 기준 척도(Reference Scale)로 설계합니다. 이 기준 척도는 050단계부터 900단계까지 각 단계에서 인간의 눈에 동일한 밝기 차이를 보장하는 과학적 진행(Progression)입니다.

<aside>
💡

**Stevens의 멱법칙이란?**

Stevens의 멱법칙이 적용되는 이유는 인간의 시각이 물리적 자극의 변화를 선형적으로 인지하지 않기 때문입니다. 예를 들어 10룩스에서 20룩스로 변할 때와 100룩스에서 110룩스로 변할 때, 실제 물리적 변화량은 각각 10룩스로 동일하지만 우리 눈에는 전자가 훨씬 더 큰 변화로 느껴집니다. 따라서 시각적으로 균일한 변화를 만들기 위해서는 중간 톤(사람이 변화에 가장 민감한 구간)에서는 간격을 넓게, 양 끝단(상대적으로 변화에 둔감한 구간)에서는 간격을 좁게 설정해야 합니다.

</aside>

그 다음, 나머지 모든 primitive color들(Red, Yellow, Green 등)이 이 Blue 기준 척도에 맞춰 조정됩니다. [Adobe Spectrum에서 사용하는 "uniform lightness steps across all hues"](https://adobe.design/stories/design-for-scale/reinventing-adobe-spectrum-s-colors) 원칙과 동일한 접근법으로, 각 색상의 500단계는 Blue-500과 동일한 L값(0.54)을 가져야 하며, 다른 단계들도 기준 척도 대비 허용 가능한 최소한의 편차 범위 내에서만 조정됩니다.

이 방식의 핵심은 **하나의 완벽한 기준을 먼저 만들고, 나머지를 그에 맞춘다**는 것입니다. 마치 오케스트라에서 첫 번째 바이올린이 정확한 음을 내면, 다른 모든 악기들이 그 기준에 맞춰 조율하는 것과 같습니다.

| 단계 | 목표 L값 | 단계별 변화량 | 용도와 근거 |
| --- | --- | --- | --- |
| 050 | 0.98 | - | Callout 배경, 매우 낮은 강조 (거의 흰색에 가까운 은은함) |
| 100 | 0.95 | -0.03 | Badge 배경, 낮은 강조 (채도는 낮지만 색상 정체성 유지) |
| 200 | 0.88 | -0.07 | 보조 배경색 |
| 300 | 0.78 | -0.10 | 비활성 상태 요소 |
| 400 | 0.66 | -0.12 | 보조 색상, 아이콘 |
| 500 | 0.54 | -0.12 | **Primary Color 기본 단계** (가장 중요한 기준점) |
| 600 | 0.43 | -0.11 | 강조된 상호작용 상태 |
| 700 | 0.34 | -0.09 | 큰 텍스트(AA), UI 요소(3:1) |
| 800 | 0.26 | -0.08 | 일반 텍스트 준비 단계 |
| 900 | 0.19 | -0.07 | 일반 텍스트(AA), 가장 높은 대비 |

**목표 L값 설정 근거: 업계 선도 사례 분석**: 이 명도 곡선은 Adobe Spectrum과 GitHub Primer의 성공 사례를 분석하여 도출했습니다. Adobe Spectrum은 CIECAM02 기반으로 100개 이상의 제품 포트폴리오에서 "700단계는 어떤 색이든 배경과 3:1 이상 명암비 보장"이라는 규칙을 성공적으로 적용하고 있습니다. GitHub Primer는 인지적 균일성을 통해 모든 테마에서 프로그래매틱한 WCAG 기준 충족을 달성했습니다.

### 3. 확장된 토큰 계층 구조: Component Specific Token

현재 2단계 구조를 3단계로 확장하여 Dark Mode 대응 문제를 근본적으로 해결합니다.

```
Primitive Token → Semantic Token → Component Specific Token
```

이 확장된 구조는 다음과 같이 작동합니다.

**Primitive Token (1단계)**: 색상의 원시적 정의

```css
--vapor-color-blue-050: #eaf1fe;
--vapor-color-blue-100: #d4e2fd;
--vapor-color-blue-500: #2a6ff3;
```

**Semantic Token (2단계)**: 의미적 역할 정의

```css
--vapor-color-primary-050: var(--vapor-color-blue-050);
--vapor-color-primary-500: var(--vapor-color-blue-500);
```

**Component Specific Token (3단계)**: 컴포넌트별 구체적 적용

```css
/* Light Mode 최적화된 값 */
--vapor-color-background-callout-light: var(--vapor-color-primary-050);
--vapor-color-foreground-callout-light: var(--vapor-color-primary-700);

/* Dark Mode 전용 계산된 값 */
--vapor-color-background-callout-dark: #1a2332;
--vapor-color-foreground-callout-dark: #8bb5ff;

/* 자동 모드 전환 */
--vapor-color-background-callout: var(--vapor-color-background-callout-light);
--vapor-color-foreground-callout: var(--vapor-color-foreground-callout-light);

@media (prefers-color-scheme: dark) {
  --vapor-color-background-callout: var(--vapor-color-background-callout-dark);
  --vapor-color-foreground-callout: var(--vapor-color-foreground-callout-dark);
}
```

이 방식의 핵심 장점은 각 모드에서 최적화된 값을 개별적으로 설정할 수 있다는 것입니다. Light Mode에서는 `blue-050`의 은은한 배경을 사용하고, Dark Mode에서는 별도로 계산된 어두운 배경색을 사용하여 두 모드 모두에서 의도한 시각적 효과를 구현할 수 있습니다.

## 해결책2: 자동화된 팔레트 생성 시스템 제공

---

### 색공간 변환의 복잡성 이해하기

자동화된 팔레트 생성 시스템을 구축할 때 가장 중요하면서도 까다로운 부분은 색공간 변환입니다. 많은 개발자들이 "색상의 H값은 어차피 360도니까 HSL이든 OKLCH든 같겠지"라고 생각하지만, 실제로는 그렇지 않습니다.

HSL의 H값과 OKLCH의 H값은 마치 같은 지구상의 경도를 서로 다른 지도 투영법으로 표현하는 것과 같습니다. 예를 들어 순수한 빨간색 `#FF0000`을 변환해보면, HSL에서는 `hsl(0, 100%, 50%)`로 H가 정확히 0도이지만, OKLCH에서는 `oklch(0.628 0.258 29.2)`로 H가 약 29.2도가 됩니다. 같은 색상임에도 각도가 다른 이유는 각 색공간이 인간의 시각 인지를 반영하는 방식이 다르기 때문입니다.

이러한 차이를 이해하지 못하고 단순히 HSL 기준으로 색조를 분류한다면, OKLCH의 인지적 균일성이라는 핵심 장점을 제대로 활용할 수 없게 됩니다. 따라서 우리는 색공간 변환의 복잡성을 정면으로 다루면서도, 사용자에게는 직관적인 경험을 제공하는 시스템을 설계해야 합니다.

### 단계별 Color Generator 구축 전략

**1단계: 정확한 OKLCH 변환과 분석**

사용자가 Primary Color를 Hex 코드로 입력하면, 시스템은 즉시 이를 OKLCH 색공간으로 변환합니다. 예를 들어 `#2A6FF3`을 입력하면 `oklch(0.577 0.198 252.3)`로 변환되어 정확한 L(명도), C(채도), H(색조) 값을 얻게 됩니다. 이때 H값인 252.3도가 실제 색조 분류의 기준이 됩니다.

이 단계에서 중요한 것은 변환의 정확성입니다. 부정확한 변환은 후속 단계에서 모든 계산을 왜곡시킬 수 있기 때문에, 표준 색채학 라이브러리를 사용하여 변환 오차를 최소화해야 합니다.

**2단계: OKLCH 기준 색조 범위 정의**

기존에 제안했던 고정된 11개 색조는 HSL 기준으로 다음과 같이 설정되어 있었습니다. Red(0도), Orange(30도), Yellow(60도), Lime(90도), Green(150도), Cyan(200도), Blue(240도), Violet(270도), Grape(300도), Pink(330도), 그리고 Gray(무채색)였습니다. 이 방식의 문제점은 HSL 색공간에서의 균등한 각도 분할이 OKLCH에서는 전혀 다른 시각적 거리를 의미한다는 것이었습니다.

새로운 시스템에서는 이러한 HSL 기준 고정 색조를 **OKLCH 기준 9개 핵심 색조**로 재구성합니다. 이는 단순히 개수를 줄이기 위한 것이 아니라, 인간의 색상 인지 특성을 반영한 과학적 접근입니다.

**새로운 OKLCH 기준 9개 색조 구성**:

Red 계열은 OKLCH H 15도에서 45도까지의 범위를 갖습니다. 이는 순수한 빨간색부터 약간 주황빛이 도는 빨간색까지를 포괄하여, 경고나 오류 상황에서 사용되는 색상들의 자연스러운 변화를 담고 있습니다.

Orange 계열은 45도에서 75도까지로, 따뜻하고 활기찬 느낌을 주는 색상 범위입니다. Yellow 계열은 75도에서 110도까지로 설정되는데, 여기서 중요한 점은 기존의 Lime(90도)이 Yellow 범위에 통합되었다는 것입니다. 이는 OKLCH에서 90도 근처의 색상들이 실제로는 Yellow의 변형으로 인지되기 때문입니다.

Green 계열은 110도에서 170도까지로 상대적으로 넓은 범위를 가지는데, 이는 인간의 눈이 녹색 계열에서 더 많은 미세한 변화를 감지할 수 있기 때문입니다. 진화적으로 우리의 시각 시스템은 자연 환경의 다양한 녹색 톤을 구분하도록 발달했기 때문에, 이 영역에서는 더 세밀한 구분이 의미가 있습니다.

Cyan 계열은 170도에서 210도, Blue 계열은 210도에서 270도의 범위를 갖습니다. Violet 계열은 270도에서 300도까지인데, 여기서 기존의 Grape(300도)가 Violet 범위로 통합되었음을 알 수 있습니다. Purple 계열은 300도에서 330도, 그리고 Pink 계열은 330도에서 다시 15도까지의 범위를 갖습니다.

**Gray는 특별한 처리**를 받습니다. 무채색인 Gray는 H값이 의미가 없기 때문에 별도의 범주로 관리되며, 모든 팔레트에서 일관된 역할을 수행합니다.

**11개에서 9개로 축소하는 이유**:

이러한 축소는 단순화가 아니라 정제의 결과입니다. 기존의 Lime과 Grape가 제거된 이유를 이해하려면, 실제 UI 디자인에서 이들이 어떻게 사용되는지 살펴볼 필요가 있습니다.

Lime(90도)의 경우, HSL에서는 Yellow와 구분되는 별개의 색조로 보이지만, OKLCH에서 분석해보면 실제로는 Yellow의 변형에 가깝습니다. 사용자들도 Lime 색상을 보고 "밝은 노란색" 또는 "연두색"이라고 인지하는 경우가 많아, 별도의 색조로 분리할 실용적 필요성이 떨어집니다.

마찬가지로 Grape(300도)도 Purple과 Violet 사이의 중간 색상으로, OKLCH 관점에서는 독립적인 색조라기보다는 Purple 계열의 한 변형으로 분류하는 것이 더 자연스럽습니다.

더 중요한 것은, 9개의 색조가 실제 브랜딩과 UI 디자인에서 필요한 색상 카테고리를 모두 커버한다는 점입니다. 대부분의 기업 브랜드 색상이나 UI에서 사용되는 Primary Color는 이 9개 범주 안에 자연스럽게 분류됩니다.

**3단계: 지능형 색상 클러스터링 시스템**

더 정교한 접근을 위해서는 고정된 범위 대신 색상 클러스터링 방식을 도입할 수 있습니다. 이 시스템은 실제 UI 디자인에서 자주 사용되는 대표 색상들을 OKLCH로 변환하여 클러스터를 형성하고, 새로 입력된 색상과 가장 가까운 클러스터를 찾는 방식으로 작동합니다.

예를 들어 Material Design, Apple Human Interface Guidelines, Ant Design 등 주요 디자인 시스템에서 사용되는 Primary Color들을 수집하여 OKLCH로 변환한 다음, 이들을 기반으로 색상 클러스터를 구축합니다. 사용자가 새로운 색상을 입력하면, 유클리드 거리 계산을 통해 가장 유사한 클러스터를 식별하고, 해당 클러스터의 특성을 반영하여 전체 팔레트를 생성합니다.

이 방식의 장점은 실제 디자인 실무에서 검증된 색상 조합을 기반으로 한다는 점입니다. 또한 새로운 트렌드나 브랜드 색상이 등장했을 때도 클러스터를 업데이트하여 시스템을 진화시킬 수 있습니다.

**4단계: 조화로운 보조 색상 자동 생성**

Primary Color가 분류되고 나면, 시스템은 나머지 색조들을 자동으로 생성해야 합니다. 이때 중요한 것은 단순히 H값만 변경하는 것이 아니라, 각 색상이 Primary Color와 조화로운 관계를 유지하도록 하는 것입니다.

색채 이론에서 검증된 조화 원칙을 적용하여, Primary Color의 보색(Complementary), 분할 보색(Split-Complementary), 삼각 조화(Triadic), 사각 조화(Tetradic) 관계에 있는 색상들을 계산합니다. 하지만 이때도 OKLCH 색공간에서의 관계를 기준으로 하여, 실제 인간의 눈에 조화롭게 보이는 색상 조합을 만들어냅니다.

예를 들어 Primary Color가 Blue 계열(OKLCH H 252도)이라면, 보색은 단순히 180도를 더한 72도(Yellow 계열)가 아니라, OKLCH 색공간에서 실제로 대비되는 색상인 80-90도 범위의 Yellow-Green 계열을 선택합니다.

**5단계: 인지적 균일성 검증과 미세 조정**

생성된 전체 팔레트에 대해 인지적 균일성을 검증하는 단계입니다. 모든 색상의 동일 단계(예: 500단계)에서 L값 편차가 허용 범위(1% 미만) 내에 있는지 확인하고, 벗어나는 경우 자동으로 미세 조정을 수행합니다.

이 과정에서는 각 색상의 C값(채도)도 함께 최적화됩니다. sRGB 색역의 한계를 고려하여 각 색상이 해당 명도에서 표현할 수 있는 최대 채도를 계산하고, 이를 기반으로 생생하면서도 일관된 팔레트를 완성합니다.

**6단계: 실시간 미리보기와 품질 지표**

마지막으로 생성된 팔레트를 실제 UI 컴포넌트에 적용한 미리보기를 제공합니다. 버튼, 카드, 폼 요소 등 대표적인 컴포넌트들이 새로운 팔레트로 어떻게 보이는지 실시간으로 확인할 수 있도록 합니다.

동시에 팔레트의 품질을 나타내는 지표들도 표시합니다. 인지적 균일성 점수(L값 편차의 표준편차), 접근성 점수(자동 검증된 WCAG 준수 조합의 비율), 조화도 점수(색채 이론 기반 조화 관계 충족 정도) 등을 제공하여, 사용자가 팔레트의 품질을 객관적으로 판단할 수 있도록 합니다.

### Figma 연동을 통한 완전한 워크플로우

Color Generator에서 확정된 팔레트는 원클릭으로 Figma에 이식됩니다. 이때 단순히 색상 값만 전달하는 것이 아니라, 앞서 정의한 토큰 컨벤션(`vapor-color-{property}-{variants}-{scale}`)에 맞춰 체계적으로 구성된 Figma Variables를 자동 생성합니다.

Light Mode와 Dark Mode를 위한 별도의 Variable Collection을 생성하고, Component Specific Token까지 포함한 완전한 토큰 시스템을 구축합니다. 이렇게 하면 디자이너들이 Figma에서 즉시 새로운 팔레트를 사용하여 디자인 작업을 시작할 수 있습니다.

또한 팔레트 변경 히스토리를 관리하여, 이전 버전으로의 롤백이나 변경 사항 추적도 가능하도록 합니다. 이는 대규모 디자인 시스템에서 매우 중요한 기능으로, 팀 협업과 버전 관리를 크게 개선시킬 수 있습니다.

### 시스템적 접근성 자동화

새로운 팔레트의 예측 가능성을 기반으로 접근성 규칙을 시스템에 내장합니다.

**의미론적 전경색 토큰 구현**:

```css
*/* 자동 전경색 결정 로직 */*
--vapor-color-foreground-surface: var(--vapor-color-gray-900); */* 기본값 *//* L값 0.6 기준 자동 전환 */*
.surface-light { --vapor-color-foreground-surface: var(--vapor-color-gray-900); }
.surface-dark { --vapor-color-foreground-surface: var(--vapor-color-white); }
```

**시스템 보장 규칙 예시**:

- "100-400 단계 배경에는 800-900 단계 텍스트로 WCAG AA 자동 보장"
- "500 단계는 모든 색상에서 동일한 명암비 특성 보장"
- "700 단계는 모든 색상에서 3:1 이상 명암비 보장"

이러한 규칙들은 개발자와 디자이너가 접근성 검증 없이도 안전하게 사용할 수 있는 색상 조합을 제공합니다.

## 구현 로드맵과 기대 효과

### 단계별 구현 계획

**Phase 1: 기반 구축 (2주)**
OKLCH 기반 Color Generator 페이지 개발, 새로운 팔레트 생성 알고리즘 구현, Component Specific Token 설계와 검증

**Phase 2: 컴포넌트 적용 (3주)**
기존 컴포넌트의 투명도 사용 제거, Component Specific Token 적용, 접근성 자동화 시스템 구축

**Phase 3: 도구 통합 (2주)**
Figma 플러그인 개발, 자동화된 테스트 시스템 구축, 문서화 및 가이드라인 완성

### 기대되는 개선 효과

**테마 확장성 혁신**: 43.3% 편차에서 1% 미만 편차로 개선되어, 어떤 색상이든 Primary Color로 사용 시 일관된 시각적 계층을 보장할 수 있습니다.

**개발 효율성 극대화**: 투명도 편법 제거와 자동화된 접근성 검증을 통해 개발 속도가 현저히 향상되며, 접근성 관련 버그가 사전에 방지됩니다.

**사용자 경험 통합**: 모든 테마에서 일관된 상호작용 피드백(1.4배 차이 → 거의 동일)과 시각적 계층을 제공하여, 사용자가 테마 변경에 관계없이 동일한 경험을 할 수 있습니다.

**시스템 신뢰성 확보**: 예측 가능하고 확장 가능한 디자인 시스템으로 발전하여, 향후 브랜드 확장이나 새로운 제품 라인 추가 시에도 안정적으로 대응할 수 있습니다.

## 결론

현재 Vapor 디자인 시스템의 컬러 시스템은 14.7%라는 극심한 변동계수와 43.3%의 범위/평균 비율로 인해 확장성과 일관성을 크게 저해하고 있습니다. 이는 단순한 색상 문제가 아니라 시스템의 근본적 한계를 드러내는 지표입니다.

제안하는 다층적 접근법은 OKLCH 기반의 과학적 팔레트 생성, Component Specific Token을 통한 Dark Mode 네이티브 지원, 그리고 자동화된 접근성 보장 시스템을 통해 이러한 근본적 문제들을 해결합니다. 이는 Vapor를 업계 선도 수준의 디자인 시스템으로 발전시킬 뿐만 아니라, 향후 5-10년간 지속 가능한 확장성을 보장하는 전략적 투자가 될 것입니다.

무엇보다 중요한 것은 이 개선이 단순히 기술적 우수성을 위한 것이 아니라, 궁극적으로 모든 사용자에게 더 나은 경험을 제공하기 위한 것이라는 점입니다. 일관된 시각적 언어와 접근 가능한 인터페이스를 통해, 우리는 기술의 복잡성 뒤에 숨겨진 인간 중심의 가치를 실현할 수 있을 것입니다.