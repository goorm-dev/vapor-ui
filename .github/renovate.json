{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "extends": ["config:base", "config:recommended", "group:monorepos", ":dependencyDashboard"],
    "baseBranchPatterns": ["main"],
    "rebaseWhen": "conflicted",
    "labels": ["type: dependencies"],
    "automergeStrategy": "squash",
    "autodiscover": true,
    "autodiscoverFilter": ["goorm-dev/vapor-ui"],
    "prHourlyLimit": 10,
    "prNotPendingHours": 48,
    "rangeStrategy": "bump",
    "vulnerabilityAlerts": {
        "enabled": true,
        "labels": ["type: security"],
        "automerge": false,
        "dependencyDashboardApproval": true
    },
    "packageRules": [
        {
            "description": "patch make auto PR , auto merge",
            "matchUpdateTypes": ["patch"],
            "automerge": true,
            "dependencyDashboardApproval": false,
            "labels": ["type: dependencies", "auto-merge"]
        },
        {
            "description": "minor make auto PR, no auto merge",
            "matchUpdateTypes": ["minor"],
            "automerge": false,
            "dependencyDashboardApproval": false,
            "labels": ["type: dependencies"]
        },
        {
            "description": "major make auto PR, require dashboard approval",
            "matchUpdateTypes": ["major"],
            "automerge": false,
            "dependencyDashboardApproval": true,
            "labels": ["type: dependencies", "major"]
        },
        {
            "description": "React and React DOM - Core framework",
            "groupName": "React Core",
            "matchPackageNames": ["react", "react-dom", "@types/react", "@types/react-dom"],
            "labels": ["type: dependencies"],
            "automerge": false
        },
        {
            "description": "Vanilla Extract - CSS-in-TS styling",
            "groupName": "Vanilla Extract",
            "labels": ["type: dependencies"],
            "automerge": false,
            "matchPackageNames": ["/@vanilla-extract/*/"]
        },
        {
            "description": "Base UI - Unstyled component library",
            "groupName": "Base UI",
            "labels": ["type: dependencies"],
            "automerge": false,
            "matchPackageNames": ["/@base-ui-components/*/"]
        },
        {
            "description": "All other dependencies grouped together",
            "groupName": "Other Dependencies",
            "labels": ["type: dependencies"],
            "automerge": false,
            "matchPackageNames": [
                "!react",
                "!react-dom",
                "!@types/react",
                "!@types/react-dom",
                "!/@vanilla-extract/*/",
                "!/@base-ui-components/*/"
            ]
        },
        {
            "description": "Security updates require manual review with alerts",
            "isVulnerabilityAlert": true,
            "automerge": false,
            "dependencyDashboardApproval": true,
            "labels": ["type: security"],
            "matchPackageNames": ["*"]
        },
        {
            "description": "Lockfile maintenance requires manual review",
            "matchUpdateTypes": ["lockFileMaintenance"],
            "automerge": false,
            "dependencyDashboardApproval": true,
            "labels": ["type: maintenance"]
        }
    ]
}
